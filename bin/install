#!/bin/bash

install() {
	local INSTALL_TO=${INSTALL_TO:-"/usr/local/lib/ssh-tasks"}
	local INSTALL_BIN=${INSTALL_BIN:-"/usr/local/bin/run"}
	local INSTALL_FROM=${INSTALL_FROM:-"$(dirname $0)/../"}

	mkdir -p $INSTALL_TO

	echo "INSTALL_TO=$INSTALL_TO"
	echo "INSTALL_BIN=$INSTALL_BIN"

	echo ""
	echo "Press anything to continue or cancel to abort"
	read pause

	cp -rf "$INSTALL_FROM" "$INSTALL_TO"
	ln -sf "$INSTALL_TO/bin/run" "$INSTALL_BIN"

	echo "Installed!"
	return 0
}

install $@